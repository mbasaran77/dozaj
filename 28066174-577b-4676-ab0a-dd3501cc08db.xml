<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>IF çalış AND pozisyon THEN&#xD;
	tartı_sıfırla:=TRUE;&#xD;
END_IF;&#xD;
my_r_trig(Clk:=tartı_sıfırla, Q=&gt;tartım_sıfırla_r);&#xD;
IF tartım_sıfırla_r  THEN&#xD;
	hedef_offset:=tartım;&#xD;
END_IF;&#xD;
&#xD;
hedef_kg:=tartım-hedef_offset;&#xD;
&#xD;
&#xD;
&#xD;
IF çalış AND pozisyon THEN&#xD;
	&#xD;
	IF hedef_kg&gt;=set_değer THEN&#xD;
		tartma_tamam:=TRUE;&#xD;
		tartı_sıfırla:=FALSE;&#xD;
		m_stok_arr[tankNo]:=m_stok_arr[tankNo]-hedef_kg;&#xD;
		fark:=(1-(hedef_kg/set_değer))*100;&#xD;
		m_tartim_hata[tankNo]:=fark;&#xD;
&#xD;
	ELSE&#xD;
		tartma_tamam:=FALSE;&#xD;
	END_IF;&#xD;
	&#xD;
	IF tartma_tamam=FALSE AND (hedef_kg/set_değer)&lt;=0.70 THEN&#xD;
		tam:=TRUE;&#xD;
	ELSE&#xD;
		tam:=FALSE;&#xD;
	END_IF;&#xD;
	IF tartma_tamam=FALSE AND (hedef_kg/set_değer)&gt;0.70 THEN&#xD;
		yarım:=TRUE;&#xD;
	ELSE&#xD;
		yarım:=FALSE;&#xD;
	END_IF;&#xD;
	&#xD;
	t0(In:=çalış, PT:=t#5s, Q=&gt;t00);&#xD;
	IF t00 THEN&#xD;
		air_vib:=TRUE;&#xD;
	END_IF;&#xD;
	(***** vibrasyon çalıştırma ****)&#xD;
	IF hedef_kg&lt;set_değer THEN&#xD;
		vib_seçim:=TRUE;&#xD;
	ELSE&#xD;
		vib_seçim:=FALSE;&#xD;
	END_IF;&#xD;
	&#xD;
	vib_puls(çalış, tam, yarım, kare_dalga);&#xD;
&#xD;
ELSE&#xD;
	air_vib:=FALSE;&#xD;
	&#xD;
END_IF;&#xD;
&#xD;
IF çalış=FALSE OR pozisyon=FALSE THEN&#xD;
			tartma_tamam:=FALSE;&#xD;
			kare_dalga:=FALSE;&#xD;
END_IF;</Text></StructuredTextModel>